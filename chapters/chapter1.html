<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>قراءة الفصل – الفصل الأول</title>  <!-- Tailwind CSS -->  <script src="https://cdn.tailwindcss.com"></script>  <!-- خط عربي فخم -->  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet" />  <style>
    :root {
      --bg-color: #f9fafb;
      --text-color: #1f2937;
      --font-size: 18px;
    }
    body {
      font-family: 'Cairo', sans-serif;
      background-color: var(--bg-color);
      color: var(--text-color);
      font-size: var(--font-size);
      transition: background 0.3s, color 0.3s, font-size 0.3s;
    }

    .frame {
      padding: 2rem;
      border-radius: 1.25rem;
      background-color: var(--bg-color);
      color: var(--text-color);
      box-shadow: 0 12px 30px rgba(0,0,0,0.05);
    }

    #readerSettingsModal {
      /* modal backdrop */
      background: rgba(0, 0, 0, 0.5);
    }

    /* hide modal by default */
    .hidden { display: none; }
  </style></head>
<body class="relative overflow-x-hidden">  <!-- شريط التقدم -->  <div id="progress"></div>  <div class="max-w-3xl mx-auto px-4 py-12">
    <!-- العنوان مع زر الإعدادات -->
    <div class="flex items-center justify-between mb-6">
      <h1 class="text-center text-4xl font-extrabold animate-gradient flex-1" style="font-family: 'Cairo', sans-serif;">
        الفصل الأول: عنوان الفصل هنا
      </h1>
      <button id="settingsBtn" class="flex items-center gap-2 px-4 py-2 bg-indigo-500 text-white rounded-full shadow hover:bg-indigo-600 transition">
        <!-- أيقونة إعدادات (Heroicon: Cog) -->
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0a1.152 1.152 0 001.71.575c.87-.565 2.062.208 1.793 1.223a1.152 1.152 0 001.017 1.43c.983.174 1.083 1.517.17 1.93a1.152 1.152 0 00-.648 1.348c.268.986-.92 1.79-1.793 1.223a1.152 1.152 0 00-1.71.575c-.299.921-1.602.921-1.901 0a1.152 1.152 0 00-1.71-.575c-.87.565-2.062-.208-1.793-1.223a1.152 1.152 0 00-1.017-1.43c-.983-.174-1.083-1.517-.17-1.93a1.152 1.152 0 00.648-1.348c-.268-.986.92-1.79 1.793-1.223.652.422 1.524.073 1.71-.575z" />
        </svg>
        <span>إعدادات القارئ</span>
      </button>
    </div>
    <div class="divider"></div><!-- إطار المحتوى -->
<div id="content" class="frame chapter-content no-select whitespace-pre-wrap break-words">
  الفصل الأول

  [من وجهة نظر البطل]

  أنا في ورطة.

  أنا في ورطة حقيقية.

  "أنا في ورطة حقيقية."
</div>

<div class="divider"></div>
<!-- تفاعلات الإيموجي -->
<div class="flex justify-center gap-4 mt-6">
  <button class="react-btn px-3 py-2 rounded-full shadow hover:shadow-md transition select-none" data-reaction="like">👍 <span class="count">0</span></button>
  <button class="react-btn px-3 py-2 rounded-full shadow hover:shadow-md transition select-none" data-reaction="love">❤️ <span class="count">0</span></button>
  <button class="react-btn px-3 py-2 rounded-full shadow hover:shadow-md transition select-none" data-reaction="haha">😆 <span class="count">0</span></button>
  <button class="react-btn px-3 py-2 rounded-full shadow hover:shadow-md transition select-none" data-reaction="sad">😢 <span class="count">0</span></button>
  <button class="react-btn px-3 py-2 rounded-full shadow hover:shadow-md transition select-none" data-reaction="angry">😡 <span class="count">0</span></button>
</div>

  </div>  <!-- نافذة الإعدادات (مخفية افتراضياً) -->  <div id="readerSettingsModal" class="fixed inset-0 flex items-center justify-center hidden">
    <div class="bg-white dark:bg-gray-800 frame max-w-lg w-full">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold">إعدادات القارئ</h2>
        <button id="closeSettings" class="text-gray-500 hover:text-gray-700 transition">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
      <div class="space-y-6">
        <!-- حجم الخط -->
        <div>
          <h3 class="font-medium mb-2">حجم الخط</h3>
          <div class="flex gap-3">
            <button onclick="setFontSize('16px');" class="px-4 py-2 rounded-full shadow hover:shadow-md transition">صغير</button>
            <button onclick="setFontSize('18px');" class="px-4 py-2 rounded-full shadow hover:shadow-md transition">متوسط</button>
            <button onclick="setFontSize('22px');" class="px-4 py-2 rounded-full shadow hover:shadow-md transition">كبير</button>
          </div>
        </div>
        <!-- الوضع -->
        <div>
          <h3 class="font-medium mb-2">الوضع</h3>
          <div class="flex gap-3">
            <button onclick="setTheme('light');" class="px-4 py-2 rounded-full shadow hover:shadow-md transition">نهار</button>
            <button onclick="setTheme('dark');" class="px-4 py-2 rounded-full shadow hover:shadow-md transition">ليلي</button>
          </div>
        </div>
      </div>
    </div>
  </div>  <!-- سكربت المنع -->  <script>
    document.addEventListener('copy', e => e.preventDefault());
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('keydown', e => {
      if ((e.ctrlKey && ['c','u','s'].includes(e.key.toLowerCase())) || e.key === 'F12')
        e.preventDefault();
    });
  </script>  <!-- سكربت الوظائف -->  <script>
    function setFontSize(size) {
      document.documentElement.style.setProperty('--font-size', size);
      localStorage.setItem('fontSize', size);
    }
    function setTheme(theme) {
      if (theme === 'dark') {
        document.documentElement.style.setProperty('--bg-color', '#1e1e1e');
        document.documentElement.style.setProperty('--text-color', '#f3f4f6');
      } else {
        document.documentElement.style.setProperty('--bg-color', '#f9fafb');
        document.documentElement.style.setProperty('--text-color', '#1f2937');
      }
      localStorage.setItem('theme', theme);
    }
    window.addEventListener('DOMContentLoaded', () => {
      const fs = localStorage.getItem('fontSize'), th = localStorage.getItem('theme');
      if (fs) setFontSize(fs);
      if (th) setTheme(th);

      // شريط التقدم وزر العودة للأعلى
      const prog = document.getElementById('progress'), btn = document.getElementById('toTop');
      window.addEventListener('scroll', () => {
        const h = document.documentElement;
        prog.style.width = (window.scrollY / (h.scrollHeight - h.clientHeight) * 100) + '%';
        btn.classList.toggle('hidden', window.scrollY < 300);
      });
      btn.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

      // فتح وإغلاق نافذة الإعدادات
      const settingsBtn = document.getElementById('settingsBtn');
      const modal = document.getElementById('readerSettingsModal');
      const closeBtn = document.getElementById('closeSettings');
      settingsBtn.addEventListener('click', () => modal.classList.remove('hidden'));
      closeBtn.addEventListener('click', () => modal.classList.add('hidden'));
      // إغلاق بالنقر خارج الإطار
      modal.addEventListener('click', e => {
        if (e.target === modal) modal.classList.add('hidden');
      });
    });
  </script>  <!-- plugin.js الأصلي -->  <script src="../js/plugin.js"></script></body>
    </html>
